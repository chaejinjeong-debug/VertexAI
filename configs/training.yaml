# 모델 학습 설정 (Customer Churn Prediction)

# 모델 정보
model:
  name: "churn_predictor"
  display_name: "Customer Churn Predictor"
  description: "60일 내 이탈 확률 예측 모델"

  # 모델 타입 (scikit-learn)
  framework: "sklearn"
  framework_version: "1.3"

# 학습 파라미터
training:
  # 타겟 컬럼 (env.yaml의 churn_days와 일치해야 함)
  target_column: "label_churn_60d"

  # 피처 컬럼 (Feature Store와 일치)
  feature_columns:
    - "orders_30d"
    - "orders_90d"
    - "revenue_30d"
    - "revenue_90d"
    - "avg_order_value_90d"
    - "distinct_products_90d"
    - "distinct_categories_90d"
    - "days_since_last_order"

  # Train/Test 분할
  test_size: 0.2
  random_state: 42

  # 모델 하이퍼파라미터 (RandomForestClassifier)
  hyperparameters:
    n_estimators: 100
    max_depth: 10
    min_samples_split: 5
    min_samples_leaf: 2

# Vertex AI Endpoint 설정
endpoint:
  name: "churn-prediction-endpoint"
  display_name: "Churn Prediction Endpoint"

  # 배포 리소스 설정
  deployed_model:
    machine_type: "n1-standard-2"
    min_replica_count: 1
    max_replica_count: 3

# 평가 메트릭
evaluation:
  metrics:
    - "accuracy"
    - "roc_auc"
    - "pr_auc"
    - "precision"
    - "recall"
    - "f1"
